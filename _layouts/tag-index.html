---
layout: default
---

<div class="all-tags-page">
    <h1 class="page-title">Daftar Semua Tag</h1>
    
    <div class="tag-stats-summary">
        <div class="stat-box">
            <div class="stat-number">{{ site.tags.size }}</div>
            <div class="stat-label">Total Tag</div>
        </div>
        <div class="stat-box">
            {% assign total_posts = 0 %}
            {% for tag in site.tags %}
                {% assign total_posts = total_posts | plus: tag[1].size %}
            {% endfor %}
            <div class="stat-number">{{ total_posts }}</div>
            <div class="stat-label">Total Postingan</div>
        </div>
        <div class="stat-box">
            {% assign tag_with_max = site.tags | sort | first %}
            {% assign max_posts = 0 %}
            {% for tag in site.tags %}
                {% if tag[1].size > max_posts %}
                    {% assign max_posts = tag[1].size %}
                    {% assign tag_with_max = tag %}
                {% endif %}
            {% endfor %}
            <div class="stat-number">{{ max_posts }}</div>
            <div class="stat-label">Tag Terpopuler<br><small>{{ tag_with_max[0] }}</small></div>
        </div>
    </div>
    
    <!-- Kontrol Pencarian dan Sortir -->
    <div class="tag-controls">
        <div class="search-box">
            <input type="text" id="tag-search" placeholder="Cari tag..." onkeyup="searchTags()">
            <button onclick="clearSearch()">×</button>
        </div>
        
        <div class="sort-controls">
            <span>Urutkan:</span>
            <select id="tag-sort" onchange="sortTags()">
                <option value="name-asc">Nama (A-Z)</option>
                <option value="name-desc">Nama (Z-A)</option>
                <option value="count-asc">Jumlah (↑)</option>
                <option value="count-desc">Jumlah (↓)</option>
            </select>
        </div>
    </div>
    
    <!-- Daftar Semua Tag -->
    <div id="tags-container" class="tags-grid">
        {% for tag in site.tags %}
        {% assign tag_name = tag[0] %}
        {% assign tag_slug = tag_name | slugify %}
        {% assign tag_posts = tag[1] %}
        {% assign tag_size = tag_posts.size %}
        
        <div class="tag-card" data-name="{{ tag_name | downcase }}" data-count="{{ tag_size }}">
            <div class="tag-card-header">
                <h3 class="tag-card-title">
                    <a href="{{ '/tag/' | append: tag_slug | relative_url }}">
                        {{ tag_name }}
                    </a>
                </h3>
                <span class="tag-count-badge">{{ tag_size }}</span>
            </div>
            
            <div class="tag-card-body">
                {% if tag_posts.size > 0 %}
                <div class="recent-posts">
                    <strong>Postingan Terbaru:</strong>
                    <ul>
                        {% for post in tag_posts limit: 3 %}
                        <li>
                            <a href="{{ post.url | relative_url }}">
                                {{ post.title | truncate: 40 }}
                            </a>
                            <br>
                            <small>{{ post.date | date: "%d/%m/%y" }}</small>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
                
                <div class="tag-card-footer">
                    <a href="{{ '/tag/' | append: tag_slug | relative_url }}" class="view-all-btn">
                        Lihat Semua Postingan &raquo;
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <!-- Tag Cloud Visual -->
    <div class="tag-cloud-visual">
        <h3>Tag Cloud</h3>
        <div class="cloud-container">
            {% for tag in site.tags %}
            {% assign tag_name = tag[0] %}
            {% assign tag_size = tag[1].size %}
            {% assign font_size = tag_size | times: 1.5 | plus: 14 %}
            <a href="{{ '/tag/' | append: tag_name | slugify | relative_url }}" 
               class="cloud-tag" 
               style="font-size: {{ font_size }}px;"
               data-count="{{ tag_size }}">
                {{ tag_name }}
            </a>
            {% endfor %}
        </div>
    </div>
</div>

<style>
.all-tags-page {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.tag-stats-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.stat-box {
    background: white;
    padding: 25px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    border-top: 4px solid #3498db;
}

.stat-number {
    font-size: 3em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 10px;
}

.stat-label {
    color: #666;
    font-size: 1.1em;
}

.stat-label small {
    display: block;
    font-size: 0.8em;
    color: #3498db;
    margin-top: 5px;
}

.tag-controls {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin: 30px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.search-box {
    position: relative;
    flex: 1;
    max-width: 400px;
}

.search-box input {
    width: 100%;
    padding: 12px 40px 12px 15px;
    border: 2px solid #ddd;
    border-radius: 25px;
    font-size: 1em;
}

.search-box button {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    font-size: 1.5em;
    color: #999;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    line-height: 30px;
}

.search-box button:hover {
    color: #333;
}

.sort-controls {
    display: flex;
    align-items: center;
    gap: 10px;
}

.sort-controls select {
    padding: 10px 15px;
    border: 2px solid #ddd;
    border-radius: 5px;
    background: white;
    font-size: 1em;
}

.tags-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin: 30px 0;
}

.tag-card {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}

.tag-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.tag-card-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.tag-card-title {
    margin: 0;
    font-size: 1.3em;
}

.tag-card-title a {
    color: white;
    text-decoration: none;
}

.tag-card-title a:hover {
    text-decoration: underline;
}

.tag-count-badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 1.1em;
    font-weight: bold;
}

.tag-card-body {
    padding: 20px;
}

.recent-posts ul {
    list-style: none;
    padding: 0;
    margin: 10px 0;
}

.recent-posts li {
    padding: 8px 0;
    border-bottom: 1px dashed #eee;
}

.recent-posts li:last-child {
    border-bottom: none;
}

.recent-posts a {
    color: #2c3e50;
    text-decoration: none;
    font-size: 0.95em;
}

.recent-posts a:hover {
    color: #3498db;
}

.recent-posts small {
    color: #999;
    font-size: 0.85em;
}

.tag-card-footer {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.view-all-btn {
    color: #3498db;
    text-decoration: none;
    font-weight: bold;
    font-size: 0.9em;
}

.view-all-btn:hover {
    text-decoration: underline;
}

.tag-cloud-visual {
    background: #f8f9fa;
    padding: 30px;
    border-radius: 10px;
    margin-top: 50px;
}

.tag-cloud-visual h3 {
    margin-top: 0;
    text-align: center;
    color: #2c3e50;
    margin-bottom: 20px;
}

.cloud-container {
    text-align: center;
    line-height: 2.5;
}

.cloud-tag {
    display: inline-block;
    margin: 5px 10px;
    padding: 5px 15px;
    background: white;
    color: #0366d6;
    text-decoration: none;
    border-radius: 20px;
    transition: all 0.3s;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.cloud-tag:hover {
    background: #0366d6;
    color: white;
    transform: scale(1.1);
}
</style>

<script>
// Simpan data tag asli
const allTags = Array.from(document.getElementsByClassName('tag-card'));

function searchTags() {
    const searchTerm = document.getElementById('tag-search').value.toLowerCase();
    const container = document.getElementById('tags-container');
    
    // Reset dulu
    container.innerHTML = '';
    
    if (searchTerm === '') {
        // Tampilkan semua tag
        allTags.forEach(tag => {
            container.appendChild(tag);
        });
        sortTags(); // Apply current sort
        return;
    }
    
    // Filter berdasarkan pencarian
    const filteredTags = allTags.filter(tag => {
        const tagName = tag.dataset.name;
        return tagName.includes(searchTerm);
    });
    
    // Tampilkan hasil
    filteredTags.forEach(tag => {
        container.appendChild(tag);
    });
}

function clearSearch() {
    document.getElementById('tag-search').value = '';
    searchTags();
}

function sortTags() {
    const sortBy = document.getElementById('tag-sort').value;
    const container = document.getElementById('tags-container');
    const tags = Array.from(container.getElementsByClassName('tag-card'));
    
    if (tags.length === 0) return;
    
    tags.sort((a, b) => {
        const aName = a.dataset.name;
        const bName = b.dataset.name;
        const aCount = parseInt(a.dataset.count);
        const bCount = parseInt(b.dataset.count);
        
        switch(sortBy) {
            case 'name-asc':
                return aName.localeCompare(bName);
            case 'name-desc':
                return bName.localeCompare(aName);
            case 'count-asc':
                return aCount - bCount;
            case 'count-desc':
                return bCount - aCount;
            default:
                return aName.localeCompare(bName);
        }
    });
    
    // Clear dan append ulang
    container.innerHTML = '';
    tags.forEach(tag => {
        container.appendChild(tag);
    });
}

// Inisialisasi
document.addEventListener('DOMContentLoaded', function() {
    sortTags();
});
</script>
