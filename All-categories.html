---
layout: null
permalink: /All-categories.html
---

<style>
:root {
  --primary: #0366d6;
  --text: #222;
  --muted: #555;
  --border: #e5e5e5;
  --bg: #f9f9f9;
}
body {
  font-family: system-ui, sans-serif;
  color: var(--text);
  background: #fff;
  line-height: 1.6;
  margin: 0;
  padding: 2rem 1rem;
  max-width: 800px;
  margin-inline: auto;
}
h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
}
.all-categories {
  margin-bottom: 2.5rem;
}
.category-grid {
  display: flex;
  flex-wrap: wrap;
  gap: .6rem;
  padding: 0;
  list-style: none;
}
.category-grid li {
  margin: 0;
}
.category-link {
  display: inline-block;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: .4rem .9rem;
  color: var(--primary);
  text-decoration: none;
  font-weight: 500;
  transition: all .2s ease;
}
.category-link:hover {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}
</style>

<div class="all-categories">
  <h2>All Categories</h2>
  <ul class="category-grid" id="category-list">
    {% assign category_counts = {} %}
    {% for post in site.posts %}
      {% for cat in post.categories %}
        {% assign slug = cat | slugify %}
        {% if category_counts[slug] %}
          {% assign category_counts = category_counts | merge: {{ slug }}: {{ category_counts[slug] | plus: 1 }} %}
        {% else %}
          {% assign category_counts = category_counts | merge: {{ slug }}: 1 %}
        {% endif %}
      {% endfor %}
    {% endfor %}
    
    {% assign all_categories = category_counts | keys | sort %}
    {% for cat in all_categories %}
      <li data-category="{{ cat }}" data-count="{{ category_counts[cat] }}">
        {{ cat | capitalize }}
      </li>
    {% endfor %}
  </ul>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const hostname = window.location.hostname; // misal: domain.my.id
  const baseDomain = hostname.split('.').slice(-2).join('.'); // ambil domain utama: my.id
  const categoryList = document.getElementById("category-list");

  categoryList.querySelectorAll("li[data-category]").forEach(li => {
    const cat = li.getAttribute("data-category");
    const count = li.getAttribute("data-count");
    const name = li.textContent.trim();
    const categoryDomain = `${cat}.${baseDomain}`;
    const categoryUrl = `https://${categoryDomain}`;

    const link = document.createElement("a");
    link.className = "category-link";
    link.textContent = `${name} (${count})`;

    // fallback ke homepage jika domain belum aktif
    link.href = (hostname === categoryDomain) ? `https://${hostname}` : categoryUrl;

    li.textContent = "";
    li.appendChild(link);
  });
});
</script>
