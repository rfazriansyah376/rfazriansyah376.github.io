---
layout: post
title: "Building a GitHub Actions Workflow to Use Jekyll Picture Tag Automatically"
categories: [jekyll,github-pages,automation,launchdrippath]
tags: [github-actions,jekyll-picture-tag,workflow,build-automation]
description: "Learn how to build a GitHub Actions workflow to enable unsupported Jekyll plugins like Picture Tag for responsive image automation."
---

<p>GitHub Pages offers a powerful and free way to host your static blog, but it comes with one major limitation ‚Äî only a handful of Jekyll plugins are officially supported. If you want to use advanced plugins like <b>jekyll-picture-tag</b> for responsive image automation, you need to take control of the build process. This guide explains how to configure <b>GitHub Actions</b> to build your site automatically with any Jekyll plugin, including those that GitHub Pages normally rejects.</p>

<h2>Automating Advanced Jekyll Builds with GitHub Actions</h2>
<ul>
  <li><a href="#why-use-github-actions-for-jekyll">Why Use GitHub Actions for Jekyll</a></li>
  <li><a href="#preparing-your-repository-for-actions">Preparing Your Repository for Actions</a></li>
  <li><a href="#creating-the-workflow-file">Creating the Workflow File</a></li>
  <li><a href="#installing-jekyll-picture-tag">Installing Jekyll Picture Tag in the Workflow</a></li>
  <li><a href="#automated-build-and-deploy-to-gh-pages">Automated Build and Deploy to gh-pages Branch</a></li>
  <li><a href="#troubleshooting-and-best-practices">Troubleshooting and Best Practices</a></li>
  <li><a href="#benefits-of-this-setup">Benefits of This Setup</a></li>
</ul>

<h2 id="why-use-github-actions-for-jekyll">Why Use GitHub Actions for Jekyll</h2>
<p>By default, GitHub Pages builds your Jekyll site with strict plugin restrictions to ensure security and simplicity. However, this means any custom plugin such as <code>jekyll-picture-tag</code>, <code>jekyll-sitemap</code> (older versions), or <code>jekyll-seo-tag</code> beyond the whitelist cannot be executed.</p>

<p>With <b>GitHub Actions</b>, you gain full control over the build process. You can run any Ruby gem, preprocess images, and deploy the static output to the <code>gh-pages</code> branch ‚Äî the branch GitHub Pages serves publicly. Essentially, Actions act as your personal automated build server in the cloud.</p>

<h2 id="preparing-your-repository-for-actions">Preparing Your Repository for Actions</h2>
<p>Before creating the workflow, make sure your repository structure is clean. You‚Äôll need two branches:</p>

<ul>
  <li><b>main</b> ‚Äî contains your source code (Markdown, Jekyll layouts, plugins).</li>
  <li><b>gh-pages</b> ‚Äî will hold the built static site generated by Jekyll.</li>
</ul>

<p>You can create the <code>gh-pages</code> branch manually or let the workflow create it automatically during the first run.</p>

<p>Next, ensure your <code>_config.yml</code> includes the plugin you want to use:</p>

<pre><code>plugins:
  - jekyll-picture-tag
  - jekyll-feed
  - jekyll-seo-tag
</code></pre>

<p>Commit this configuration to your <code>main</code> branch. Now you‚Äôre ready to automate the build.</p>

<h2 id="creating-the-workflow-file">Creating the Workflow File</h2>
<p>In your repository, create a directory <code>.github/workflows/</code> if it doesn‚Äôt exist yet. Inside it, create a new file named <code>build-and-deploy.yml</code>. This file defines your automation pipeline.</p>

<pre><code>name: Build and Deploy Jekyll with Picture Tag

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source
        uses: actions/checkout@v4

      - name: Setup Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: 3.1

      - name: Install dependencies
        run: |
          gem install bundler
          bundle install

      - name: Build Jekyll site
        run: bundle exec jekyll build

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./_site
          publish_branch: gh-pages
</code></pre>

<p>This workflow tells GitHub to:</p>
<ol>
  <li>Run whenever you push changes to the <code>main</code> branch.</li>
  <li>Install Ruby and dependencies, including your chosen plugins.</li>
  <li>Build the site using <code>jekyll build</code>.</li>
  <li>Deploy the static result from <code>_site</code> into <code>gh-pages</code>.</li>
</ol>

<h2 id="installing-jekyll-picture-tag">Installing Jekyll Picture Tag in the Workflow</h2>
<p>To make <code>jekyll-picture-tag</code> work, add it to your <code>Gemfile</code> before pushing your repository. This ensures the plugin is installed during the build process.</p>

<pre><code>source "https://rubygems.org"
gem "jekyll", "~> 4.3"
gem "jekyll-picture-tag"
gem "jekyll-seo-tag"
gem "jekyll-feed"
</code></pre>

<p>After committing this file, GitHub Actions will automatically install all declared gems during the build stage. If you ever update plugin versions, simply push the new Gemfile and Actions will rebuild accordingly.</p>

<h2 id="automated-build-and-deploy-to-gh-pages">Automated Build and Deploy to gh-pages Branch</h2>
<p>Once this workflow runs successfully, GitHub Actions will automatically deploy your built site to the <code>gh-pages</code> branch. To make it live, go to:</p>

<ol>
  <li>Open your repository settings.</li>
  <li>Navigate to <b>Pages</b>.</li>
  <li>Under ‚ÄúBuild and deployment‚Äù, select ‚ÄúDeploy from branch‚Äù.</li>
  <li>Set the branch to <b>gh-pages</b> and folder to <b>root</b>.</li>
</ol>

<p>From now on, every time you push changes to <code>main</code>, the site will rebuild automatically ‚Äî including responsive thumbnails generated by <code>jekyll-picture-tag</code>. You no longer depend on GitHub‚Äôs limited built-in Jekyll compiler.</p>

<h2 id="troubleshooting-and-best-practices">Troubleshooting and Best Practices</h2>
<p>Here are common issues and how to resolve them:</p>

<table>
  <thead>
    <tr>
      <th>Issue</th>
      <th>Possible Cause</th>
      <th>Solution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Build fails with missing gem error</td>
      <td>Plugin not listed in Gemfile</td>
      <td>Add it to Gemfile and run <code>bundle install</code></td>
    </tr>
    <tr>
      <td>Site not updating on Pages</td>
      <td>Wrong branch selected for deployment</td>
      <td>Ensure Pages uses <code>gh-pages</code> as source</td>
    </tr>
    <tr>
      <td>Images not generating properly</td>
      <td>Missing or invalid source image paths</td>
      <td>Check <code>_config.yml</code> and image folder paths</td>
    </tr>
  </tbody>
</table>

<p>To keep your workflow secure and efficient, use GitHub‚Äôs built-in <code>GITHUB_TOKEN</code> instead of personal access tokens. Also, consider caching dependencies using <code>actions/cache</code> to speed up subsequent builds.</p>

<h2 id="benefits-of-this-setup">Benefits of This Setup</h2>
<p>Switching to a GitHub Actions-based build gives you the freedom to use any Jekyll plugin, custom scripts, and pre-processing tools without sacrificing the simplicity of GitHub Pages hosting. Here are the major advantages:</p>

<ul>
  <li>‚úÖ Full plugin compatibility (including <code>jekyll-picture-tag</code>).</li>
  <li>‚ö° Faster and automated builds every time you push updates.</li>
  <li>üñºÔ∏è Seamless integration of responsive thumbnails and optimized images.</li>
  <li>üîí Secure builds using official GitHub tokens.</li>
  <li>üì¶ Option to include linting, minification, or testing steps in the workflow.</li>
</ul>

<p>Once configured, the workflow runs silently in the background ‚Äî turning your repository into a fully automated static site generator. With this setup, your blog benefits from all the visual and performance improvements of <code>jekyll-picture-tag</code> while staying hosted entirely for free on GitHub Pages.</p>

<p>This method bridges the gap between GitHub Pages‚Äô restrictions and the flexibility of modern Jekyll development, ensuring your blog stays future-proof, optimized, and visually polished without requiring manual builds.</p>
