---
layout: null
title: Search
permalink: /search
---

<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/SearchResultsPage">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Bot-friendly: No render-blocking CSS -->
  <style>
    /* Minimal critical CSS */
    body { margin: 0; padding: 0; font-family: sans-serif; }
    #searchResults { padding: 20px; max-width: 800px; margin: 0 auto; }
    .search-result { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
    .search-result h3 { margin: 0 0 10px 0; font-size: 20px; }
    .search-result h3 a { color: #1a0dab; text-decoration: none; }
    .snippet { color: #4d5156; line-height: 1.5; margin: 8px 0; }
    .highlight { background-color: #fff3cd; font-weight: bold; }
    .random-posts-fallback { margin-top: 40px; padding-top: 30px; border-top: 2px solid #ddd; }
    .random-post { margin-bottom: 25px; }
    .random-post h4 { margin: 0 0 8px 0; font-size: 18px; }
    .random-post h4 a { color: #1a0dab; text-decoration: none; }
  </style>
  
  <!-- Bot signals -->
  <meta name="robots" content="index, follow, max-snippet:200, max-image-preview:large, max-video-preview:-1"/>
  <meta name="googlebot" content="index, follow, max-snippet:200, max-image-preview:large, max-video-preview:-1"/>
  <meta name="bingbot" content="index, follow, max-snippet:200, max-image-preview:large, max-video-preview:-1"/>
  <meta name="slurp" content="index, follow, max-snippet:200"/>
  
  <link rel="icon" href="/favicon.ico" />
  <link rel="canonical" href="" id="canonical-url" />
  
  <!-- SEO Focus: Query as Primary Keyword -->
  <script>
  (function() {
    'use strict';
    
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('q') || '';
    const cleanQuery = searchQuery.replace(/\+/g, ' ');
    const currentUrl = window.location.href;
    const domain = window.location.hostname;
    
    // Format query untuk display
    function formatQuery(query) {
      return query
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
    }
    
    const formattedQuery = formatQuery(cleanQuery);
    const isSearchPage = window.location.pathname.includes('search') && searchQuery;
    
    if (isSearchPage) {
      // TITLE: Query sebagai keyword utama
      const title = `${formattedQuery} - Search Results | ${domain}`;
      document.title = title;
      
      // META DESCRIPTION: Deskriptif dan mengandung query
      const metaDesc = document.querySelector('meta[name="description"]') || document.createElement('meta');
      metaDesc.name = 'description';
      metaDesc.content = `Find comprehensive search results for "${cleanQuery}". Browse relevant articles, guides, and information about ${cleanQuery}.`;
      if (!metaDesc.parentNode) document.head.appendChild(metaDesc);
      
      // OG TAGS untuk social sharing
      const ogTitle = document.querySelector('meta[property="og:title"]') || document.createElement('meta');
      ogTitle.property = 'og:title';
      ogTitle.content = title;
      if (!ogTitle.parentNode) document.head.appendChild(ogTitle);
      
      const ogDesc = document.querySelector('meta[property="og:description"]') || document.createElement('meta');
      ogDesc.property = 'og:description';
      ogDesc.content = `Search results for "${cleanQuery}"`;
      if (!ogDesc.parentNode) document.head.appendChild(ogDesc);
      
      const ogUrl = document.querySelector('meta[property="og:url"]') || document.createElement('meta');
      ogUrl.property = 'og:url';
      ogUrl.content = currentUrl;
      if (!ogUrl.parentNode) document.head.appendChild(ogUrl);
      
      // STRUCTURED DATA: Rich Search Results
      const searchSchema = {
        "@context": "https://schema.org",
        "@type": "SearchResultsPage",
        "name": `Search Results for "${cleanQuery}"`,
        "description": `Search results page containing information about ${cleanQuery}`,
        "url": currentUrl,
        "mainEntity": {
          "@type": "WebSite",
          "name": domain,
          "url": window.location.origin,
          "potentialAction": {
            "@type": "SearchAction",
            "target": `${window.location.origin}/search?q={search_term_string}`,
            "query-input": "required name=search_term_string"
          }
        },
        "about": {
          "@type": "Thing",
          "name": cleanQuery,
          "description": `Information and resources about ${cleanQuery}`
        }
      };
      
      const schemaScript = document.createElement('script');
      schemaScript.type = 'application/ld+json';
      schemaScript.textContent = JSON.stringify(searchSchema);
      document.head.appendChild(schemaScript);
      
      // Breadcrumb Schema
      const breadcrumbSchema = {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": window.location.origin
        }, {
          "@type": "ListItem",
          "position": 2,
          "name": `Search Results for "${cleanQuery}"`,
          "item": currentUrl
        }]
      };
      
      const breadcrumbScript = document.createElement('script');
      breadcrumbScript.type = 'application/ld+json';
      breadcrumbScript.textContent = JSON.stringify(breadcrumbSchema);
      document.head.appendChild(breadcrumbScript);
      
      // Canonical URL
      document.getElementById('canonical-url').href = currentUrl;
      
      // Hreflang jika multilingual (optional)
      const hreflang = document.createElement('link');
      hreflang.rel = 'alternate';
      hreflang.href = currentUrl;
      hreflang.hreflang = 'x-default';
      document.head.appendChild(hreflang);
    }
    
  })();
  </script>
</head>
<body>
  <!-- Minimal header untuk bot -->
  <header style="padding: 10px; background: #f8f9fa; border-bottom: 1px solid #dee2e6;">
    <div style="max-width: 800px; margin: 0 auto;">
      <h1 id="pageTitle" style="margin: 0; font-size: 18px; color: #333;"></h1>
    </div>
  </header>

  <script>
  // Set page title untuk bot
  (function() {
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('q');
    
    if (searchQuery) {
      const formattedQuery = searchQuery.replace(/\+/g, ' ')
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
      document.getElementById('pageTitle').textContent = `Search Results: ${formattedQuery}`;
    } else {
      document.getElementById('pageTitle').textContent = 'Search Page';
    }
  })();
  </script>

  <main>
    <!-- Hidden semantic elements untuk SEO -->
    <div hidden itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/WebPageElement">
      <meta itemprop="name" content="Search Results Content" />
    </div>
    
    <!-- Primary search results container -->
    <div id="searchResults">
      <noscript>
        <!-- Fallback untuk bot tanpa JavaScript -->
        <div style="padding: 40px; text-align: center;">
          <h2>Search Results</h2>
          <p>Please enable JavaScript to view search results.</p>
        </div>
      </noscript>
    </div>
    
    <!-- Random posts fallback (hidden by default, shown only when needed) -->
    <div id="randomPostsFallback" style="display: none;"></div>
  </main>

  <!-- Minimal search form untuk bot -->
  <div style="max-width: 800px; margin: 30px auto; padding: 0 20px;">
    <form action="/search" method="get" role="search" aria-label="Site search">
      <div style="display: flex; gap: 10px;">
        <input 
          type="text" 
          name="q" 
          placeholder="Search..." 
          aria-label="Search query"
          style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px;"
          value="" />
        <button 
          type="submit"
          style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Search
        </button>
      </div>
    </form>
  </div>

  <!-- Minimal footer untuk bot -->
  <footer style="padding: 20px; background: #f8f9fa; border-top: 1px solid #dee2e6; margin-top: 40px;">
    <div style="max-width: 800px; margin: 0 auto; text-align: center; color: #6c757d;">
      <p style="margin: 0;">Â© <span id="currentYear"></span> <span id="siteName"></span>. All rights reserved.</p>
    </div>
  </footer>

  <script>
  // Set footer info
  document.getElementById('currentYear').textContent = new Date().getFullYear();
  document.getElementById('siteName').textContent = window.location.hostname;
  </script>

  <!-- SEO-OPTIMIZED JAVASCRIPT -->
  <script>
  (function() {
    'use strict';
    
    // Cache system untuk performance
    const dataCache = {
      search: null,
      random: null,
      timestamp: null,
      CACHE_DURATION: 300000 // 5 minutes
    };
    
    // Helper functions
    function escapeHtml(text) {
      if (!text) return '';
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    function formatUrl(url) {
      if (!url) return '';
      if (url.startsWith('http')) return url;
      return window.location.origin + (url.startsWith('/') ? url : '/' + url);
    }
    
    function createSearchResult(post, query) {
      const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      const highlightRegex = new RegExp(`(${escapedQuery})`, 'gi');
      
      // Highlight in title
      const highlightedTitle = post.title.replace(highlightRegex, '<mark class="highlight">$1</mark>');
      
      // Create snippet with keyword context
      let snippet = post.excerpt || post.content.substring(0, 250);
      const contentLower = (post.content || '').toLowerCase();
      const queryIndex = contentLower.indexOf(query);
      
      if (queryIndex !== -1) {
        const start = Math.max(0, queryIndex - 120);
        const end = Math.min(post.content.length, queryIndex + query.length + 120);
        snippet = post.content.substring(start, end);
        snippet = snippet.replace(highlightRegex, '<mark class="highlight">$1</mark>');
        snippet = (start > 0 ? '...' : '') + snippet + (end < post.content.length ? '...' : '');
      }
      
      return `
        <article class="search-result" itemscope itemtype="https://schema.org/Article">
          <h3 itemprop="headline">
            <a href="${formatUrl(post.url)}" itemprop="url">${highlightedTitle}</a>
          </h3>
          <div class="snippet" itemprop="description">${snippet}</div>
          <meta itemprop="datePublished" content="${post.date || ''}" />
          ${post.author ? `<meta itemprop="author" content="${post.author}" />` : ''}
        </article>
      `;
    }
    
    function createRandomPost(post) {
      return `
        <div class="random-post" itemscope itemtype="https://schema.org/Article">
          <h4 itemprop="headline">
            <a href="${formatUrl(post.url)}" itemprop="url">${post.title || 'Untitled Post'}</a>
          </h4>
          ${post.excerpt ? `<div class="snippet" itemprop="description">${post.excerpt}</div>` : ''}
        </div>
      `;
    }
    
    // Fetch dengan cache untuk bot performance
    async function fetchData(url, cacheKey) {
      const now = Date.now();
      
      // Return cached data if still valid
      if (dataCache[cacheKey] && dataCache.timestamp && (now - dataCache.timestamp) < dataCache.CACHE_DURATION) {
        return dataCache[cacheKey];
      }
      
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        const data = await response.json();
        
        dataCache[cacheKey] = data;
        dataCache.timestamp = now;
        
        return data;
      } catch (error) {
        // Fallback to cache even if stale for bot resilience
        if (dataCache[cacheKey]) {
          return dataCache[cacheKey];
        }
        throw error;
      }
    }
    
    // Main search function
    async function performSearch() {
      const urlParams = new URLSearchParams(window.location.search);
      const query = (params.get("q") || "").toLowerCase().trim();
      const container = document.getElementById('searchResults');
      const randomContainer = document.getElementById('randomPostsFallback');
      
      // Clear containers
      container.innerHTML = '';
      randomContainer.innerHTML = '';
      randomContainer.style.display = 'none';
      
      if (!query) {
        // No query - show random posts only
        container.innerHTML = '<h2>Search</h2><p>Enter a search query to find content.</p>';
        await showRandomPosts(randomContainer);
        randomContainer.style.display = 'block';
        return;
      }
      
      // Show loading indicator
      container.innerHTML = '<p>Loading search results...</p>';
      
      try {
        // Fetch search data
        const searchData = await fetchData('/search.json', 'search');
        
        // Filter results
        const results = searchData.filter(post => {
          const searchableText = `${post.title || ''} ${post.content || ''} ${post.excerpt || ''}`.toLowerCase();
          return searchableText.includes(query);
        });
        
        if (results.length > 0) {
          // Display search results
          const formattedQuery = query.replace(/\+/g, ' ')
            .split(' ')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1))
            .join(' ');
          
          const resultsHTML = results.map(post => createSearchResult(post, query)).join('');
          
          container.innerHTML = `
            <h2>Search Results for "${escapeHtml(formattedQuery)}"</h2>
            <p>Found ${results.length} result${results.length !== 1 ? 's' : ''}.</p>
            ${resultsHTML}
          `;
        } else {
          // No results - show message and random posts
          container.innerHTML = `
            <h2>No Results Found</h2>
            <p>No search results found for "${escapeHtml(query.replace(/\+/g, ' '))}".</p>
            <p>Try different keywords or browse related content below.</p>
          `;
          
          await showRandomPosts(randomContainer);
          randomContainer.style.display = 'block';
        }
        
      } catch (error) {
        // Error handling - show random posts
        console.error('Search error:', error);
        container.innerHTML = `
          <h2>Search Unavailable</h2>
          <p>Search functionality is temporarily unavailable.</p>
        `;
        
        await showRandomPosts(randomContainer);
        randomContainer.style.display = 'block';
      }
    }
    
    // Show random posts (minimal, SEO-focused)
    async function showRandomPosts(container) {
      try {
        const randomData = await fetchData('/posts-acak.json', 'random');
        
        if (!Array.isArray(randomData) || randomData.length === 0) {
          container.innerHTML = '<p>No additional content available.</p>';
          return;
        }
        
        // Simple shuffle for variety
        const shuffled = [...randomData].sort(() => Math.random() - 0.5);
        const postsToShow = shuffled.slice(0, 4); // Limit to 4 for minimal footprint
        
        const postsHTML = postsToShow.map(createRandomPost).join('');
        
        container.innerHTML = `
          <div class="random-posts-fallback">
            <h3>Related Content</h3>
            ${postsHTML}
          </div>
        `;
        
      } catch (error) {
        container.innerHTML = '';
      }
    }
    
    // Initialize search
    document.addEventListener('DOMContentLoaded', performSearch);
    
    // Prefetch data for better bot performance
    if ('requestIdleCallback' in window) {
      window.requestIdleCallback(() => {
        fetch('/search.json').catch(() => {});
        fetch('/posts-acak.json').catch(() => {});
      });
    }
    
  })();
  </script>
  
  <!-- Bot-friendly analytics (optional) -->
  <script>
    // Minimal bot detection and logging
    const botUserAgents = [
      'googlebot', 'bingbot', 'slurp', 'duckduckbot', 'baiduspider',
      'yandexbot', 'sogou', 'exabot', 'facebookexternalhit', 'twitterbot'
    ];
    
    const userAgent = navigator.userAgent.toLowerCase();
    const isBot = botUserAgents.some(bot => userAgent.includes(bot));
    
    if (isBot) {
      // Bot-specific optimizations
      window.addEventListener('load', function() {
        // Signal to bots that page is fully loaded
        const botSignal = document.createElement('meta');
        botSignal.name = 'bot-loaded';
        botSignal.content = 'true';
        document.head.appendChild(botSignal);
      });
    }
  </script>
</body>
</html>
