---
layout: null
title: Search
permalink: /search
---

<!DOCTYPE html>
<html lang="en" loading="lazy">
<head loading="lazy">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://adabunalima5.github.io/file/css/01/01.css"/> 
  
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="theme-color" content="#317EFB" />

  

  <!-- awal Seo Otomatis khusus untuk Homepage dan Search -->
  <script>
  (function () {
    const hostname = location.hostname;
    const pathname = location.pathname;
    
    // Ambil query pencarian dari URL
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('q') || '';
    
    let subdomainRaw = hostname.split('.')[0];
    if (subdomainRaw.toLowerCase() === 'www') subdomainRaw = hostname.split('.')[1] || '';

    const formatText = str => str
      .replace(/[-_]/g, ' ')
      .replace(/\+/g, ' ')
      .replace(/\b\w/g, c => c.toUpperCase());

    const subdomain = formatText(subdomainRaw.trim());
    const cleanPath = pathname.replace(/^\/+|\/+$/g, '');
    const isHome = !cleanPath || /^index\.(html?|php)$/i.test(cleanPath);

    let rawPageName = cleanPath.split('/').pop() || '';
    rawPageName = rawPageName.replace(/\.[^.]+$/, '').trim();
    rawPageName = decodeURIComponent(rawPageName);

    // Cek jika halaman search dengan query
    const isSearchPage = cleanPath === 'search' && searchQuery;
    
    let titleText;
    let pageTitle;
    let h1Title;
    
    if (isSearchPage) {
      // Format query untuk title
      const formattedQuery = searchQuery
        .replace(/\+/g, ' ')
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
      
      titleText = `${formattedQuery}`;
      pageTitle = formattedQuery;
      h1Title = formattedQuery;
    } else {
      titleText = isHome
        ? subdomain
        : `${formatText(rawPageName)} - ${subdomain}`;
      pageTitle = isHome ? subdomain : formatText(rawPageName);
      h1Title = pageTitle;
    }

    // Title di head
    let titleTag = document.querySelector('title') || document.createElement('title');
    titleTag.textContent = titleText;
    if (!titleTag.parentNode) document.head.appendChild(titleTag);

    // Update h1 di header jika ada
    setTimeout(() => {
      const mainTitle = document.getElementById('mainTitle');
      const headingH1 = document.querySelector('main h2');
      
      if (mainTitle && isSearchPage) {
        mainTitle.textContent = `${h1Title}`;
      }
      
      if (headingH1 && isSearchPage) {
        headingH1.textContent = `${h1Title}`;
      }
    }, 100);

    // Meta author
    let metaAuthor = document.querySelector('meta[name="author"]') || document.createElement('meta');
    metaAuthor.name = 'author';
    metaAuthor.content = `${h1Title}`;
    if (!metaAuthor.parentNode) document.head.appendChild(metaAuthor);

    // Meta description khusus search
    if (isSearchPage) {
      let metaDesc = document.querySelector('meta[name="description"]') || document.createElement('meta');
      metaDesc.name = 'description';
      metaDesc.content = `${searchQuery.replace(/\+/g, ' ')} on ${subdomain}. Find Leaked Photo, Video, and Content.`;
      if (!metaDesc.parentNode) document.head.appendChild(metaDesc);
    }

    // Meta keywords khusus search
    if (isSearchPage) {
      let metaKeywords = document.querySelector('meta[name="keywords"]') || document.createElement('meta');
      metaKeywords.name = 'keywords';
      metaKeywords.content = `${searchQuery.replace(/\+/g, ', ')}`;
      if (!metaKeywords.parentNode) document.head.appendChild(metaKeywords);
    }

    // Canonical
    let canonical = document.querySelector('link[rel="canonical"]') || document.createElement('link');
    canonical.setAttribute('rel', 'canonical');
    canonical.setAttribute('href', location.href);
    if (!canonical.parentNode) document.head.appendChild(canonical);

  })();
  </script>
  <!-- akhir Seo Otomatis -->

  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"/>

  <link rel="sitemap" type="application/xml" href="" id="sitemap-main">
  <link rel="alternate" type="application/rss+xml" href="" id="sitemap-feed">

  <script>
  (function() {
    var origin = window.location.origin;
    document.getElementById("sitemap-main").href = origin + "/sitemap.xml";
    document.getElementById("sitemap-feed").href = origin + "/feed.xml";
  })();
  </script>	

  <script src="https://unpkg.com/elasticlunr/elasticlunr.js"></script>
</head>
<body loading="lazy">
  
  
<!-- Header blog dengan ID dan Class yang unik -->
<header class="blog-header-main floating-header-main" loading="lazy">
  <div class="header-content-main">
    <h1 id="mainTitle" class="blog-title-main"></h1>
    <div class="nav-actions-main">
      <button class="nav-button-main menu-btn-main" id="blogMenuToggle" title="Menu" aria-label="Menu">
        <!-- Hamburger Icon -->
        <svg id="blogIconMenu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="menu-icon-main">
          <path d="M3 6h18M3 12h18M3 18h18"/>
        </svg>
        <!-- Close Icon -->
        <svg id="blogIconClose" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="menu-icon-main" style="display:none;">
          <path d="M6 6l12 12M6 18l12-12"/>
        </svg>
      </button>
    </div>
  </div>
</header>

<style>
/* Header blog melayang dengan class unik */
.blog-header-main.floating-header-main {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: #fff;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
  box-sizing: border-box;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1001;
  border-bottom: none;
}

.header-content-main {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  gap: 16px;
}

/* Judul blog yang lebih besar dengan class unik */
.blog-title-main {
  margin: 0;
  font-size: 20px;
  color: #000;
  flex: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 700;
  letter-spacing: -0.02em;
  line-height: 1.2;
}

.nav-actions-main {
  flex-shrink: 0;
  margin: 0;
}

/* Tombol menu - HITAM TANPA BACKGROUND dengan class unik */
.menu-btn-main {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: transparent;
  border: none;
  color: #000;
  padding: 0;
  cursor: pointer;
  border-radius: 0;
  transition: opacity 0.2s ease;
}

.menu-btn-main:hover {
  opacity: 0.6;
  background: transparent;
}

.menu-btn-main:active {
  opacity: 0.4;
}

.menu-icon-main {
  width: 24px;
  height: 24px;
  stroke: #000000;
  fill: none;
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Menu panel dropdown dengan ID unik */
#blogMenuPanel {
  display: none;
  background: #fff;
  border: 1px solid #e0e0e0;
  padding: 16px;
  position: fixed;
  z-index: 1000;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
  border-radius: 10px;
}

#blogMenuPanel ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#blogMenuPanel li {
  margin: 0;
  padding: 0;
}

#blogMenuPanel a {
  color: #000;
  text-decoration: none;
  display: block;
  border-radius: 6px;
  transition: all 0.2s ease;
  font-weight: 500;
  white-space: nowrap;
}

#blogMenuPanel a:hover {
  background: rgba(0, 0, 0, 0.05);
}

/* DESKTOP - Menu dengan layout yang bagus untuk layar besar */
@media (min-width: 1025px) {
  .blog-header-main.floating-header-main {
    padding: 12px 24px;
  }
  
  .header-content-main {
    max-width: 1400px;
  }
  
  .blog-title-main {
    font-size: 22px;
  }
  
  .menu-btn-main {
    width: 40px;
    height: 40px;
  }
  
  .menu-icon-main {
    width: 26px;
    height: 26px;
  }
  
  /* Menu untuk DESKTOP */
  #blogMenuPanel {
    top: 65px;
    right: 24px;
    padding: 20px;
    min-width: 220px;
    max-width: 250px;
  }
  
  #blogMenuPanel a {
    padding: 12px 16px;
    font-size: 15px;
    margin-bottom: 4px;
  }
  
  #blogMenuPanel li:not(:last-child) a {
    border-bottom: 1px solid #f0f0f0;
  }
}

/* TABLET - Antara desktop dan mobile */
@media (max-width: 1024px) and (min-width: 769px) {
  .blog-header-main.floating-header-main {
    padding: 10px 16px;
  }
  
  .header-content-main {
    gap: 14px;
  }
  
  .blog-title-main {
    font-size: 18px;
  }
  
  .menu-btn-main {
    width: 36px;
    height: 36px;
  }
  
  .menu-icon-main {
    width: 22px;
    height: 22px;
    stroke-width: 2.5;
  }
  
  /* Menu untuk TABLET */
  #blogMenuPanel {
    top: 58px;
    right: 16px;
    padding: 16px;
    min-width: 200px;
    max-width: 220px;
  }
  
  #blogMenuPanel a {
    padding: 10px 14px;
    font-size: 14px;
    margin-bottom: 3px;
  }
  
  #blogMenuPanel li:not(:last-child) a {
    border-bottom: 1px solid #f0f0f0;
  }
}

/* MOBILE - Optimal untuk layar kecil */
@media (max-width: 768px) {
  .blog-header-main.floating-header-main {
    padding: 8px 12px;
  }
  
  .blog-title-main {
    font-size: 17px;
  }
  
  .menu-btn-main {
    width: 32px;
    height: 32px;
  }
  
  .menu-icon-main {
    width: 20px;
    height: 20px;
    stroke-width: 2.5;
  }
  
  /* Menu untuk MOBILE */
  #blogMenuPanel {
    top: 56px;
    right: 12px;
    padding: 14px;
    min-width: 180px;
    max-width: 200px;
  }
  
  #blogMenuPanel a {
    padding: 9px 12px;
    font-size: 13px;
    margin-bottom: 2px;
  }
  
  #blogMenuPanel li:not(:last-child) a {
    border-bottom: 1px solid #f0f0f0;
  }
}

/* MOBILE KECIL - Sangat compact */
@media (max-width: 480px) {
  .blog-header-main.floating-header-main {
    padding: 8px 10px;
  }
  
  .header-content-main {
    gap: 12px;
  }
  
  .blog-title-main {
    font-size: 16px;
    font-weight: 600;
  }
  
  .menu-btn-main {
    width: 30px;
    height: 30px;
  }
  
  .menu-icon-main {
    width: 18px;
    height: 18px;
    stroke-width: 2.5;
  }
  
  /* Menu untuk MOBILE KECIL */
  #blogMenuPanel {
    top: 54px;
    right: 10px;
    padding: 12px;
    min-width: 160px;
    max-width: 180px;
  }
  
  #blogMenuPanel a {
    padding: 8px 10px;
    font-size: 12px;
    margin-bottom: 2px;
  }
  
  #blogMenuPanel li:not(:last-child) a {
    border-bottom: 1px solid #f0f0f0;
  }
}

/* Tambah padding body untuk header fixed */
body {
  padding-top: 60px !important;
}

/* Pastikan konten tidak tertutup header */
main, .content {
  margin-top: 20px !important;
}
</style>

  <script>
  (function(){
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('q');
    
    // Jika ada query pencarian, tampilkan di title
    if (searchQuery) {
      const formattedQuery = searchQuery
        .replace(/\+/g, ' ')
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
      document.getElementById("mainTitle").textContent = `${formattedQuery}`;
      return;
    }
    
    // Jika tidak ada query, gunakan domain seperti biasa
    const host = window.location.hostname.split(".");
    let sub = "";

    if (host[0] === "www") {
      sub = host[1];
    } else if (host.length === 3) {
      sub = host[0];
    } else if (host.length === 4) {
      sub = host[0];
    } else {
      sub = host[0];
    }

    const clean = sub.replace(/-/g, " ");
    const title = clean.replace(/\b\w/g, c => c.toUpperCase());
    document.getElementById("mainTitle").textContent = title;
  })();
  </script>



<!-- Menu Panel dengan ID unik -->
<div id="blogMenuPanel">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/contact/">Contact</a></li>
    <li><a href="/privacy-policy/">Privacy Policy</a></li>
    <li><a href="/terms-and-conditions/">Terms & Conditions</a></li>
  </ul>
</div>

<script>
// Fungsi untuk menampilkan judul blog dari domain dengan ID unik
(function(){
// Fungsi untuk toggle menu dengan ID unik
const toggleBtnBlog = document.getElementById('blogMenuToggle');
const menuPanelBlog = document.getElementById('blogMenuPanel');
const iconMenuBlog = document.getElementById('blogIconMenu');
const iconCloseBlog = document.getElementById('blogIconClose');

toggleBtnBlog.addEventListener('click', (e) => {
  e.stopPropagation();
  const isVisible = menuPanelBlog.style.display === 'block';
  
  // Toggle display
  menuPanelBlog.style.display = isVisible ? 'none' : 'block';
  iconMenuBlog.style.display = isVisible ? 'inline' : 'none';
  iconCloseBlog.style.display = isVisible ? 'none' : 'inline';
  
  // Posisikan menu panel di bawah tombol
  if (!isVisible) {
    const btnRect = toggleBtnBlog.getBoundingClientRect();
    menuPanelBlog.style.top = (btnRect.bottom + 5) + 'px';
    menuPanelBlog.style.right = (window.innerWidth - btnRect.right) + 'px';
  }
});

// Tutup menu ketika klik di luar
document.addEventListener('click', (e) => {
  if (!menuPanelBlog.contains(e.target) && !toggleBtnBlog.contains(e.target) && menuPanelBlog.style.display === 'block') {
    menuPanelBlog.style.display = 'none';
    iconMenuBlog.style.display = 'inline';
    iconCloseBlog.style.display = 'none';
  }
});

// Tutup menu dengan ESC key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && menuPanelBlog.style.display === 'block') {
    menuPanelBlog.style.display = 'none';
    iconMenuBlog.style.display = 'inline';
    iconCloseBlog.style.display = 'none';
  }
});

// Update posisi menu saat scroll atau resize
function updateBlogMenuPosition() {
  if (menuPanelBlog.style.display === 'block') {
    const btnRect = toggleBtnBlog.getBoundingClientRect();
    menuPanelBlog.style.top = (btnRect.bottom + 5) + 'px';
    menuPanelBlog.style.right = (window.innerWidth - btnRect.right) + 'px';
  }
}

// Event listeners untuk update posisi
window.addEventListener('resize', updateBlogMenuPosition);
window.addEventListener('scroll', updateBlogMenuPosition);

// Inisialisasi posisi awal
window.addEventListener('load', updateBlogMenuPosition);
</script>


  <main loading="lazy">

{% include /ads/gobloggugel/sosmed.html %}
	
    <style>
    /* Search Container */
    #searchResults {
      min-height: 300px;
      margin: 2rem 0;
    }

    /* Highlight for matches */
    .highlight {
      background-color: #fff3cd;
      padding: 0 2px;
      border-radius: 3px;
      font-weight: bold;
    }

    /* Search Results */
    .search-result {
      margin-bottom: 2.5rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid #eaeaea;
    }

    .search-result h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.4rem;
    }

    .search-result h3 a {
      color: #2c3e50;
      text-decoration: none;
    }

    .search-result h3 a:hover {
      color: #3498db;
    }

    .snippet {
      color: #555;
      line-height: 1.6;
      margin: 0.5rem 0 1rem 0;
    }

    /* No Results & Empty States */
    .search-empty,
    .no-results,
    .search-error,
    .results-found {
      padding: 2rem;
      border-radius: 10px;
      margin-bottom: 2rem;
    }

    .search-empty {
      background: #f8f9fa;
      text-align: center;
    }

    .no-results {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
    }

    .search-error {
      background: #ffebee;
      border-left: 4px solid #f44336;
    }

    .results-count {
      font-size: 1.1rem;
      color: #2c3e50;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #3498db;
    }

    .suggestion {
      color: #666;
      font-style: italic;
    }

    /* Random Posts Fallback */
    .random-posts-fallback {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 2px dashed #ddd;
    }

    .fallback-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .fallback-header h3 {
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }

    .fallback-header p {
      color: #7f8c8d;
    }

    .random-posts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .random-post {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 1.5rem;
      transition: all 0.3s ease;
      height: 100%;
    }

    .random-post:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      border-color: #3498db;
    }

    .random-post-link {
      text-decoration: none;
      color: inherit;
      display: block;
    }

    .random-post h4 {
      margin: 0 0 0.8rem 0;
      color: #2c3e50;
      font-size: 1.1rem;
      line-height: 1.4;
    }

    .random-post .excerpt {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
      margin-bottom: 1rem;
    }

    .fallback-footer {
      text-align: center;
      margin-top: 2rem;
    }

    .browse-all {
      display: inline-block;
      background: #3498db;
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 500;
      transition: background 0.3s;
    }

    .browse-all:hover {
      background: #2980b9;
    }

    .refresh-btn {
      background: #2ecc71;
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      cursor: pointer;
      margin-right: 1rem;
      font-weight: 500;
      transition: all 0.3s;
      display: inline-block;
      text-decoration: none;
    }

    .refresh-btn:hover {
      background: #27ae60;
      transform: scale(1.05);
    }

    .refresh-btn:active {
      transform: scale(0.95);
    }

    .fallback-error {
      text-align: center;
      padding: 2rem;
      background: #f8f9fa;
      border-radius: 8px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .random-posts-grid {
        grid-template-columns: 1fr;
      }
      
      .search-result {
        padding: 1rem 0;
      }
      
      #searchResults {
        padding: 0 1rem;
      }
      
      .fallback-footer {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: center;
      }
      
      .refresh-btn, .browse-all {
        margin: 0;
        width: 100%;
        max-width: 250px;
      }
    }

    /* Loading Animation */
    @keyframes pulse {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
    }

    #searchResults:empty::after {
      content: "Loading...";
      display: block;
      text-align: center;
      padding: 2rem;
      color: #7f8c8d;
      animation: pulse 1.5s infinite;
    }
    
    /* Dynamic heading for search page */
    .search-page-heading {
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid #3498db;
    }
    
    .search-page-heading h2 {
      margin: 0;
      color: #2c3e50;
      font-size: 1.8rem;
    }
    
    .search-query-display {
      color: #e74c3c;
      font-weight: bold;
    }
    </style>
    
    <div id="searchResults" loading="lazy">Loading search results...</div>

<script>
// Fungsi untuk mengacak array (Fisher-Yates shuffle)
function shuffleArray(array) {
  const shuffled = [...array];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

// Fungsi utama pencarian
async function runSearch() {
  const params = new URLSearchParams(window.location.search);
  const query = (params.get("q") || "").toLowerCase().trim();
  const container = document.getElementById("searchResults");

  // Format query untuk display
  const formattedQuery = query
    .replace(/\+/g, ' ')
    .split(' ')
    .map(word => word.charAt(0).toUpperCase() + word.slice(1))
    .join(' ');

  // Jika tidak ada query
  if (!query) {
    container.innerHTML = `
      <div class="search-empty">
        <p>üîç Enter a search term in the URL like: <code>?q=your+keywords</code></p>
        <p>Or check out these random posts:</p>
      </div>
    `;
    await loadRandomPosts(container);
    return;
  }

  // Tampilkan loading state
  container.innerHTML = ``;

  try {
    // 1. Fetch data pencarian
    const response = await fetch("/search.json");
    if (!response.ok) throw new Error(`HTTP ${response.status}`);
    const allPosts = await response.json();

    // 2. Filter hasil pencarian
    const results = allPosts.filter(post => {
      const searchText = `
        ${post.title || ''}
        ${post.content || ''}
        ${post.excerpt || ''}
      `.toLowerCase();
      return searchText.includes(query);
    });

    // 3. Tampilkan hasil atau fallback
    if (results.length > 0) {
      displaySearchResults(results, query, formattedQuery, container);
    } else {
      // Tampilkan pesan no results DAN load random posts
      container.innerHTML = `
        <div class="no-results">
          <p>Results for "<strong>${escapeHtml(formattedQuery)}</strong>"</p>
        </div>
      `;
      await loadRandomPosts(container);
    }

  } catch (error) {
    console.error("Search error:", error);
    container.innerHTML = `
      <div class="search-error">
        <p>‚ö†Ô∏è Search temporarily unavailable.</p>
        <p>Showing random posts instead:</p>
      </div>
    `;
    await loadRandomPosts(container);
  }
}

// Fungsi: Tampilkan hasil pencarian
function displaySearchResults(results, query, formattedQuery, container) {
  // Escape query untuk regex
  const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const highlightRegex = new RegExp(`(${escapedQuery})`, 'gi');

  const html = results.map(post => {
    // Highlight di title (TANPA LINK)
    const highlightedTitle = post.title.replace(
      highlightRegex, 
      '<mark class="highlight">$1</mark>'
    );

    // Cari snippet dengan keyword
    let snippet = post.excerpt || post.content.substring(0, 50);
    const contentLower = (post.content || '').toLowerCase();
    const queryIndex = contentLower.indexOf(query);
    
    if (queryIndex !== -1) {
      const start = Math.max(0, queryIndex - 80);
      const end = Math.min(post.content.length, queryIndex + query.length + 80);
      snippet = post.content.substring(start, end);
      snippet = snippet.replace(highlightRegex, '<mark class="highlight">$1</mark>');
      snippet = (start > 0 ? '...' : '') + snippet + (end < post.content.length ? '...' : '');
    }

    // Format URL dengan domain saat ini
    let postUrl = post.url;
    if (postUrl && !postUrl.startsWith('http')) {
      const currentDomain = window.location.origin;
      postUrl = currentDomain + (postUrl.startsWith('/') ? postUrl : '/' + postUrl);
    }

    return `
      <div class="search-result">
        <h3>${highlightedTitle}</h3>
        <div style="margin-bottom: 10px;">
          <a href="${postUrl}">
            <img src="/photo/fallback.png" 
                 alt="${escapeHtml(formattedQuery)}" 
                 loading="lazy" 
                 style="max-width:100%; height:auto; border-radius: 5px;">
          </a>
        </div>
        <p class="snippet">${snippet}</p>
      </div>
    `;
  }).join('');

  container.innerHTML = `
    <div class="results-found">
      <p class="results-count">Found ${results.length} result${results.length !== 1 ? 's' : ''} for "${escapeHtml(formattedQuery)}"</p>
      ${html}
    </div>
  `;
}

// Fungsi: Load random posts untuk fallback
async function loadRandomPosts(container) {
  try {
    const randomResponse = await fetch("/posts-acak.json");
    if (!randomResponse.ok) throw new Error(`Failed to load random posts: HTTP ${randomResponse.status}`);
    
    const allPosts = await randomResponse.json();
    
    if (!Array.isArray(allPosts) || allPosts.length === 0) {
      throw new Error("Random posts data is empty or invalid");
    }
    
    // Acak postingan setiap kali fungsi dipanggil
    const shuffledPosts = shuffleArray(allPosts);
    
    // Ambil 6 post pertama dari array yang sudah diacak
    const selectedPosts = shuffledPosts.slice(0, 9);
    
    const randomPostsHTML = selectedPosts.map(post => {
      // Format URL dengan domain saat ini
      let postUrl = post.url;
      if (postUrl && !postUrl.startsWith('http')) {
        const currentDomain = window.location.origin;
        postUrl = currentDomain + (postUrl.startsWith('/') ? postUrl : '/' + postUrl);
      }
      
      const excerpt = post.excerpt || '';
      const title = post.title || 'Untitled Post';
      
      return `
        <div class="random-post">
          <div style="margin-bottom: 10px;">
            <a href="${postUrl}">
              <img src="/photo/fallback.png" 
                   alt="${escapeHtml(title)}" 
                   loading="lazy" 
                   style="max-width:100%; height:auto; border-radius: 5px;">
            </a>
          </div>
          <h4>${title}</h4>
          ${excerpt ? `<p class="excerpt">${excerpt}</p>` : ''}
        </div>
      `;
    }).join('');
    
    const fallbackContainer = document.createElement('div');
    fallbackContainer.className = 'random-posts-fallback';
    fallbackContainer.innerHTML = `
      <div class="fallback-header">
      </div>
      <div class="random-posts-grid">
        ${randomPostsHTML}
      </div>
      <div class="fallback-footer">
        <a href="/" class="browse-all">Browse All Posts ‚Üí</a>
      </div>
    `;
    
    // Jika sudah ada fallback container sebelumnya, hapus dulu
    const existingFallback = container.querySelector('.random-posts-fallback');
    if (existingFallback) {
      existingFallback.remove();
    }
    
    container.appendChild(fallbackContainer);
    
    // Tambahkan event listener untuk tombol refresh
    const refreshBtn = fallbackContainer.querySelector('.refresh-btn');
    if (refreshBtn) {
      refreshBtn.addEventListener('click', function(e) {
        e.preventDefault();
        // Dapatkan container dari DOM
        const container = document.getElementById('searchResults');
        const fallbackSection = container.querySelector('.random-posts-fallback');
        if (fallbackSection) {
          // Hapus fallback section yang ada
          fallbackSection.remove();
          // Load random posts baru
          loadRandomPosts(container);
        }
      });
    }
    
  } catch (error) {
    console.error("Failed to load random posts:", error);
    
    // Jika error, tampilkan pesan error yang jelas
    const errorContainer = document.createElement('div');
    errorContainer.className = 'fallback-error';
    errorContainer.innerHTML = `
    `;
    
    container.appendChild(errorContainer);
  }
}

// Helper: Escape HTML untuk keamanan
function escapeHtml(text) {
  if (!text) return '';
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// Jalankan pencarian saat halaman siap
document.addEventListener('DOMContentLoaded', runSearch);
</script>
  </main>

  
  
  <!-- awal search -->
{% include awal-search.html %}
  <!-- akhir search -->

  <!--FOOTER-->
  <footer style="text-align: center; padding: 30px 20px; font-size: 16px; color: #666;">
    <small>
      &copy; </small>
  <span id="current-year"></span> 
    -  <a id="main-heading2" href="/" style="color: inherit; text-decoration: none;"></a>.
    <span>   All rights reserved.</span> 
    <script>
      (function () {
        const domain = window.location.hostname || "";
        const parts = domain.split(".");
        let brand = "Blog";
        let rootDomain = domain;
        // Khusus untuk .my.id
        if (domain.endsWith(".my.id") && parts.length > 2) {
          // Ambil nama domain utama (2 bagian sebelum .my.id)
          const baseName = parts[parts.length - 3]; // contoh: domain / do-main
          rootDomain = "www." + baseName + ".my.id";

          // Ubah jadi Title Case dengan spasi jika ada tanda minus
          brand = baseName
            .split("-")
            .map(w => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase())
            .join(" ");
        }

        // Update elemen
        document.getElementById("current-year").textContent = new Date().getFullYear();
        const headingEl = document.getElementById("main-heading2");
        headingEl.textContent = brand;
        headingEl.href = "https://" + rootDomain;
      })();
    </script>
  </footer>
  
  <br /><br /><br />
  
  <script>
  // Isi search input dengan query saat ini
  document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const currentQuery = urlParams.get('q');
    if (currentQuery) {
      const searchInput = document.getElementById('searchInput');
      if (searchInput) {
        searchInput.value = currentQuery.replace(/\+/g, ' ');
      }
    }
  });
  </script>
</body>
</html>



