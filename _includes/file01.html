<!-- start related post -->
<style>
.related-posts {
  margin-top: 2.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e5e5e5;
}
.related-posts b {
  font-size: 1.1rem;
  margin-bottom: 1rem;
}
.related-posts ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.related-item {
  margin-bottom: 1.2rem;
}
.related-item a {
  font-weight: 600;
  text-decoration: none;
}
.related-item a:hover {
  text-decoration: underline;
}
.related-desc {
  margin: .3rem 0 0;
  font-size: .92rem;
  line-height: 1.5;
  color: #555;
}
</style>

{% assign current_cats = "" | split: "" %}
{% if page.categories %}
  {% for cat in page.categories %}
    {% assign c = cat | strip | downcase | replace: ' ', '-' %}
    {% unless current_cats contains c %}
      {% assign current_cats = current_cats | push: c %}
    {% endunless %}
  {% endfor %}
{% endif %}

{% assign related_raw = "" | split: "" %}

{% for post in site.posts %}
  {% if post.url != page.url and post.categories %}
    {% assign score = 0 %}
    {% for cat in post.categories %}
      {% assign pcat = cat | strip | downcase | replace: ' ', '-' %}
      {% if current_cats contains pcat %}
        {% assign score = score | plus: 1 %}
      {% endif %}
    {% endfor %}
    {% if score > 0 %}
      {% capture item %}{{ score | prepend: '00' | slice: -2, 2 }}::{{ post.url }}::{{ post.title }}{% endcapture %}
      {% assign related_raw = related_raw | push: item %}
    {% endif %}
  {% endif %}
{% endfor %}

{% assign related_sorted = related_raw | sort | reverse %}

{% if related_sorted.size > 0 %}
<section class="related-posts">
  <b>Related Posts</b>
  <ul>
    {% for item in related_sorted limit:50 %}
      {% assign p = item | split: '::' %}
      {% assign post_obj = site.posts | where: "url", p[1] | first %}
      <li class="related-item">
        <a href="{{ p[1] }}">{{ p[2] }}</a>
        {% if post_obj.description %}
          <p class="related-desc">{{ post_obj.description }}</p><hr />
        {% elsif post_obj.excerpt %}
          <p class="related-desc">{{ post_obj.excerpt | strip_html | truncate: 140 }}</p><hr />
        {% endif %}
      </li>
    {% endfor %}
  </ul>
</section>
{% else %}
<section class="related-posts">
  <b>Recent Posts</b>
  <ul>
    {% for post in site.posts limit:15 %}
      {% if post.url != page.url %}
        <li class="related-item">
          <a href="{{ post.url }}">{{ post.title }}</a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</section>
{% endif %}

<!-- end related post -->


<div class="spo">
<!-- 10 Video HTML nyata -->
<video class="seo-video" controls preload="metadata" poster="/photo/fallback-01.png">
  <source src="/video/leaked-01.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-02.png">
  <source src="/video/leaked-02.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-03.png">
  <source src="/video/leaked-03.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-04.png">
  <source src="/video/leaked-04.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-05.png">
  <source src="/video/leaked-05.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-06.png">
  <source src="/video/leaked-06.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-07.png">
  <source src="/video/leaked-07.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-08.png">
  <source src="/video/leaked-08.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-09.png">
  <source src="/video/leaked-09.mp4" type="video/mp4">
</video>

<video class="seo-video" controls preload="metadata" poster="/photo/fallback-10.png">
  <source src="/video/leaked-10.mp4" type="video/mp4">
</video>

<!-- Script Schema VideoObject otomatis -->
<script>
(function () {
  const origin = window.location.origin;

  const videos = [
    {src:"/video/leaked-01.mp4", poster:"/photo/fallback-01.png", title:"Video leaked-01"},
    {src:"/video/leaked-02.mp4", poster:"/photo/fallback-02.png", title:"Video leaked-02"},
    {src:"/video/leaked-03.mp4", poster:"/photo/fallback-03.png", title:"Video leaked-03"},
    {src:"/video/leaked-04.mp4", poster:"/photo/fallback-04.png", title:"Video leaked-04"},
    {src:"/video/leaked-05.mp4", poster:"/photo/fallback-05.png", title:"Video leaked-05"},
    {src:"/video/leaked-06.mp4", poster:"/photo/fallback-06.png", title:"Video leaked-06"},
    {src:"/video/leaked-07.mp4", poster:"/photo/fallback-07.png", title:"Video leaked-07"},
    {src:"/video/leaked-08.mp4", poster:"/photo/fallback-08.png", title:"Video leaked-08"},
    {src:"/video/leaked-09.mp4", poster:"/photo/fallback-09.png", title:"Video leaked-09"},
    {src:"/video/leaked-10.mp4", poster:"/photo/fallback-10.png", title:"Video leaked-10"}
  ];

  const baseDate = new Date("2025-12-01T08:00:00Z"); // tanggal dasar tetap

  videos.forEach((v, index) => {
    const videoUrl = origin + v.src;
    const posterUrl = origin + v.poster;

    // Offset 10 menit per video agar uploadDate unik tapi stabil
    const uploadDate = new Date(baseDate.getTime() + index * 10 * 60 * 1000).toISOString();

    const schema = {
      "@context": "https://schema.org",
      "@type": "VideoObject",
      "name": v.title,
      "description": v.title,
      "thumbnailUrl": posterUrl,
      "uploadDate": uploadDate,
      "contentUrl": videoUrl,
      "embedUrl": videoUrl
    };

    const s = document.createElement("script");
    s.type = "application/ld+json";
    s.textContent = JSON.stringify(schema);
    document.head.appendChild(s);
  });
})();
</script>

</div>
